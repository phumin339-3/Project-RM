<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8" />
  <title>Phishing Detector</title>
  <style>
    body { font-family: system-ui, -apple-system, Segoe UI, Roboto, sans-serif; width: 360px; padding: 12px; }
    h3 { margin: 0 0 8px; display:flex; align-items:center; gap:6px; }
    .controls { display:flex; gap:8px; margin:8px 0 10px; align-items:center; }
    button { padding:8px; border:1px solid #ddd; border-radius:8px; background:#fff; cursor:pointer; }
    button:hover { background:#f7f7f7; }
    .tabs { display:flex; gap:8px; margin:6px 0 10px; }
    .tab { flex:1; text-align:center; }
    .active { background:#eef6ff; border-color:#bcdcff; }
    .meta { font-size:12px; color:#666; margin:6px 0; }
    .row { display:flex; justify-content:space-between; gap:8px; padding:8px 0; border-bottom:1px solid #eee; }
    .url { font-size:12px; color:#333; word-break: break-all; }
    .sub { font-size:11px; color:#777; }
    .pill { border-radius:999px; padding:2px 8px; font-size:12px; white-space:nowrap; align-self:start; font-weight:600; cursor:pointer; border:1px solid transparent; }
    .good { background:#eafaf1; color:#1e824c; }
    .warn { background:#fff7e6; color:#ad6800; }
    .bad  { background:#fdecea; color:#c0392b; }
    .empty { font-size:12px; color:#888; text-align:center; padding:14px 0; }
    .small { font-size:11px; }
    .linelist { font-size:12px; color:#333; word-break: break-all; }
    .line { display:flex; align-items:center; justify-content:space-between; gap:8px; padding:6px 0; border-bottom:1px dashed #eee; }

    /* ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏™‡πÑ‡∏ï‡∏•‡πå‡∏ä‡πà‡∏≠‡∏á‡∏Å‡∏£‡∏≠‡∏Å */
    .form-block { margin-top: 10px; border:1px dashed #e5e7eb; border-radius:8px; padding:8px; }
    .form-row { display:flex; gap:6px; margin:6px 0; }
    input[type="text"] { flex:1; padding:8px; border:1px solid #ddd; border-radius:8px; }
    .hint { font-size:11px; color:#777; margin-top:4px; }
    .section-title { font-weight:600; margin-top:8px; }

    /* Modal ‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏‡∏ú‡∏• */
    .modal-backdrop {
      position: fixed; inset: 0; background: rgba(0,0,0,0.35);
      display: none; align-items: center; justify-content: center; padding: 10px;
      z-index: 9999;
    }
    .modal {
      width: 100%; max-width: 340px; background: #fff; color:#222; border-radius: 12px; border:1px solid #e5e7eb;
      box-shadow: 0 8px 30px rgba(0,0,0,0.15); overflow: hidden;
    }
    .modal-header { padding: 10px 12px; border-bottom:1px solid #eee; display:flex; justify-content:space-between; align-items:center; }
    .modal-title { font-weight: 700; font-size: 14px; }
    .modal-close { background:transparent; border:none; font-size:18px; line-height:1; cursor:pointer; padding:4px; }
    .modal-body { padding: 10px 12px; max-height: 320px; overflow:auto; }
    .kv { font-size: 12px; color:#444; display:flex; justify-content:space-between; gap:8px; padding:4px 0; border-bottom:1px dashed #eee; }
    .kv b { color:#111; }
    .reasons { margin-top:8px; }
    .reasons li { font-size:12px; margin:6px 0; color:#333; }
    .status-chip { display:inline-block; padding:2px 8px; border-radius:999px; margin-left:6px; font-weight:700; }
    .status-good { background:#eafaf1; color:#1e824c; }
    .status-warn { background:#fff7e6; color:#ad6800; }
    .status-bad  { background:#fdecea; color:#c0392b; }
    .mono { font-family: ui-monospace, SFMono-Regular, Menlo, Consolas, monospace; }

    /* iOS-like master switch */
    .switch-wrap { margin-left:auto; }
    .ios-switch { position:relative; display:inline-block; width:92px; height:32px; user-select:none; }
    .ios-switch input { display:none; }
    .ios-switch .track {
      position:absolute; inset:0; background:#f1f5f9; border:1px solid #e5e7eb;
      border-radius:999px; transition:.25s; overflow:hidden;
    }
    .ios-switch .knob {
      position:absolute; top:2px; left:2px; width:28px; height:28px; border-radius:999px;
      background:#fff; border:1px solid #e5e7eb; box-shadow:0 2px 6px rgba(0,0,0,.08);
      transition:.25s; font-size:14px; color:#999; display:flex; align-items:center; justify-content:center;
    }
    .ios-switch .label {
      position:absolute; top:0; bottom:0; display:flex; align-items:center; font-size:12px; font-weight:700;
      padding:0 10px; color:#64748b; transition:.25s;
    }
    .ios-switch .label.on  { left:8px; opacity:0; }
    .ios-switch .label.off { right:8px; opacity:1; }
    .ios-switch input:checked + .track { background:#d1fae5; border-color:#a7f3d0; }
    .ios-switch input:checked + .track .knob { transform:translateX(60px); border-color:#34d399; }
    .ios-switch input:checked + .track .label.on  { opacity:1; color:#047857; }
    .ios-switch input:checked + .track .label.off { opacity:0; }
  </style>
</head>
<body>
  <h3>üîç ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡πÄ‡∏ß‡πá‡∏ö‡πÑ‡∏ã‡∏ï‡πå</h3>

  <div class="controls">
    <button id="btn-check" style="flex:1">‡∏ï‡∏£‡∏ß‡∏à‡πÅ‡∏ó‡πá‡∏ö‡∏ô‡∏µ‡πâ</button>
    <button id="btn-clear" style="flex:1">‡∏•‡πâ‡∏≤‡∏á‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥</button>

    <!-- ‡∏™‡∏ß‡∏¥‡∏ï‡∏ä‡πå‡πÄ‡∏õ‡∏¥‡∏î/‡∏õ‡∏¥‡∏î‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô -->
    <div class="switch-wrap" title="‡πÄ‡∏õ‡∏¥‡∏î/‡∏õ‡∏¥‡∏î‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥‡∏Ç‡∏≠‡∏á‡∏™‡πà‡∏ß‡∏ô‡∏Ç‡∏¢‡∏≤‡∏¢">
      <label class="ios-switch">
        <input id="toggle-enabled" type="checkbox" />
        <span class="track">
          <span class="knob">‚Ä∫‚Ä∫</span>
          <span class="label on">ON</span>
          <span class="label off">OFF</span>
        </span>
      </label>
    </div>
  </div>

  <div class="tabs">
    <button class="tab active" id="tab-logs">‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏Å‡∏≤‡∏£‡∏ï‡∏£‡∏ß‡∏à</button>
    <button class="tab" id="tab-blocks">‡∏ö‡∏•‡πá‡∏≠‡∏Ñ & ‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏ö‡∏•‡πá‡∏≠‡∏Ñ</button>
  </div>

  <div id="panel-logs">
    <div class="meta" id="meta">‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥: -</div>
    <div id="list"></div>
  </div>

  <div id="panel-blocks" style="display:none">
    <div class="meta">‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏ó‡∏µ‡πà‡∏ö‡∏•‡πá‡∏≠‡∏Ñ‡∏≠‡∏¢‡∏π‡πà</div>
    <div class="linelist">
      <div class="small">‡πÇ‡∏î‡πÄ‡∏°‡∏ô</div>
      <div id="block-domains"></div>
      <div class="small" style="margin-top:6px;">URL</div>
      <div id="block-urls"></div>
    </div>

    <!-- Allowlist -->
    <div class="section-title">Allowlist (‡∏≠‡∏ô‡∏∏‡∏ç‡∏≤‡∏ï‡πÄ‡∏™‡∏°‡∏≠)</div>
    <div class="linelist" id="allowlist-root"></div>

    <div class="form-block">
      <div class="small">‡πÄ‡∏û‡∏¥‡πà‡∏°/‡∏•‡∏ö Allowlist</div>
      <div class="form-row">
        <input type="text" id="allow-domain-input" placeholder="‡πÄ‡∏ä‡πà‡∏ô google.com ‡∏´‡∏£‡∏∑‡∏≠ https://google.com" />
        <button id="btn-allow-add">‡πÄ‡∏û‡∏¥‡πà‡∏°</button>
      </div>
      <div class="hint">* ‡πÉ‡∏™‡πà‡πÇ‡∏î‡πÄ‡∏°‡∏ô‡∏´‡∏£‡∏∑‡∏≠ URL ‡∏Å‡πá‡πÑ‡∏î‡πâ ‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏∞‡πÄ‡∏Å‡πá‡∏ö‡πÉ‡∏ô‡∏£‡∏∞‡∏î‡∏±‡∏ö‡πÇ‡∏î‡πÄ‡∏°‡∏ô (‡πÄ‡∏ä‡πà‡∏ô example.com)</div>
    </div>

    <!-- ‡∏ö‡∏•‡πá‡∏≠‡∏Ñ‡πÄ‡∏≠‡∏á -->
    <div class="form-block">
      <div class="small">‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÇ‡∏î‡πÄ‡∏°‡∏ô/URL ‡πÄ‡∏Ç‡πâ‡∏≤‡∏ö‡∏•‡πá‡∏≠‡∏Ñ‡πÄ‡∏≠‡∏á</div>
      <div class="form-row">
        <input type="text" id="block-domain-input" placeholder="‡πÇ‡∏î‡πÄ‡∏°‡∏ô‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏ö‡∏•‡πá‡∏≠‡∏Ñ ‡πÄ‡∏ä‡πà‡∏ô bad-shop.xyz" />
        <button id="btn-block-domain-add">‡∏ö‡∏•‡πá‡∏≠‡∏Ñ‡πÇ‡∏î‡πÄ‡∏°‡∏ô</button>
      </div>
      <div class="form-row">
        <input type="text" id="block-url-input" placeholder="URL ‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏ö‡∏•‡πá‡∏≠‡∏Ñ ‡πÄ‡∏ä‡πà‡∏ô https://bad-shop.xyz/pay" />
        <button id="btn-block-url-add">‡∏ö‡∏•‡πá‡∏≠‡∏Ñ URL</button>
      </div>
      <div class="hint">* ‡∏ö‡∏•‡πá‡∏≠‡∏Ñ‡πÇ‡∏î‡πÄ‡∏°‡∏ô‡∏Ñ‡∏£‡∏≠‡∏ö‡∏Ñ‡∏•‡∏∏‡∏°‡∏ó‡∏∏‡∏Å‡∏´‡∏ô‡πâ‡∏≤‡∏†‡∏≤‡∏¢‡πÉ‡∏ï‡πâ‡πÇ‡∏î‡πÄ‡∏°‡∏ô‡∏ô‡∏±‡πâ‡∏ô ‡∏ö‡∏•‡πá‡∏≠‡∏Ñ URL ‡∏à‡∏∞‡∏à‡∏≥‡πÄ‡∏û‡∏≤‡∏∞‡∏•‡∏¥‡∏á‡∏Å‡πå</div>
    </div>

    <div class="meta" style="margin-top:10px;">‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏Å‡∏≤‡∏£‡∏ö‡∏•‡πá‡∏≠‡∏Ñ</div>
    <div id="block-history"></div>

    <div class="controls">
      <button id="btn-refresh-blocks">‡∏£‡∏µ‡πÄ‡∏ü‡∏£‡∏ä</button>
      <button id="btn-clear-block-history">‡∏•‡πâ‡∏≤‡∏á‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏Å‡∏≤‡∏£‡∏ö‡∏•‡πá‡∏≠‡∏Ñ</button>
    </div>
  </div>

  <!-- Modal ‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏‡∏ú‡∏• (‡πÅ‡∏™‡∏î‡∏á‡∏ï‡∏≠‡∏ô‡∏Å‡∏î SAFE/SUSPECT/UNSAFE) -->
  <div class="modal-backdrop" id="explain-backdrop" role="dialog" aria-modal="true" aria-hidden="true">
    <div class="modal" role="document">
      <div class="modal-header">
        <div class="modal-title">
          ‡∏Ñ‡∏≥‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡∏î‡∏™‡∏¥‡∏ô‡πÉ‡∏à
          <span id="explain-status-chip" class="status-chip status-good">SAFE</span>
        </div>
        <button class="modal-close" id="explain-close" aria-label="‡∏õ‡∏¥‡∏î">√ó</button>
      </div>
      <div class="modal-body">
        <div class="kv"><b>URL</b><span id="explain-url" class="mono"></span></div>
        <div class="kv"><b>‡πÇ‡∏î‡πÄ‡∏°‡∏ô</b><span id="explain-domain"></span></div>

        <div class="reasons">
          <div class="small" style="font-weight:700;margin:8px 0 4px;">‡πÄ‡∏´‡∏ï‡∏∏‡∏ú‡∏•‡∏´‡∏•‡∏±‡∏Å</div>
          <ul id="explain-reasons"></ul>

          <div class="small" style="font-weight:700;margin:8px 0 4px;">‡∏Ñ‡πà‡∏≤‡∏Ñ‡∏∏‡∏ì‡∏•‡∏±‡∏Å‡∏©‡∏ì‡∏∞ (‡∏¢‡πà‡∏≠)</div>
          <div id="explain-features" class="mono" style="font-size:11px;white-space:pre-wrap;"></div>

          <div class="small" style="margin-top:8px;color:#666">
            * ‡πÄ‡∏õ‡πá‡∏ô‡∏Ñ‡∏≥‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢‡πÅ‡∏ö‡∏ö‡∏Å‡∏é‡∏á‡πà‡∏≤‡∏¢ ‡πÜ ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ä‡πà‡∏ß‡∏¢‡∏ó‡∏≥‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏à ‡∏≠‡∏≤‡∏à‡πÑ‡∏°‡πà‡∏ï‡∏£‡∏á‡∏Å‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏Ç‡∏≠‡∏á‡πÇ‡∏°‡πÄ‡∏î‡∏• 100%
          </div>
        </div>
      </div>
    </div>
  </div>

  <script src="popup.js"></script>
</body>
</html>
